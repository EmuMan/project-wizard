[gd_scene load_steps=11 format=3 uid="uid://b8a11q4oclpcq"]

[ext_resource type="PackedScene" uid="uid://cqnuyeunopyv7" path="res://scenes/Player.tscn" id="1_7o84y"]
[ext_resource type="Script" uid="uid://cf6op84e2eokt" path="res://scenes/rat_level.gd" id="1_ftu2j"]
[ext_resource type="Texture2D" uid="uid://dnxddsn2b58wd" path="res://sprites/cobblestone_floor.png" id="2_8t1o2"]
[ext_resource type="PackedScene" uid="uid://copx7anmrlqul" path="res://prefabs/enemies/rat.tscn" id="3_6vmdf"]
[ext_resource type="Texture2D" uid="uid://cuho5i5ag4boi" path="res://sprites/goop_water.png" id="3_ftu2j"]
[ext_resource type="PackedScene" uid="uid://7npbhv7up8w" path="res://prefabs/enemies/rat_zombie.tscn" id="4_lteeu"]
[ext_resource type="Script" uid="uid://d1st0tgw0aisl" path="res://scripts/simple_camera_follow.gd" id="5_lteeu"]
[ext_resource type="PackedScene" uid="uid://d4ljifycv6b7v" path="res://scenes/EnemySpawn.tscn" id="7_8t1o2"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_lteeu"]
size = Vector2(1609, 31)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_jb676"]
size = Vector2(35, 1241.5)

[node name="RatLevel" type="Node2D"]
script = ExtResource("1_ftu2j")

[node name="TextureRect" type="TextureRect" parent="."]
z_index = -2
offset_left = -1026.0
offset_top = -1040.0
offset_right = 1022.0
offset_bottom = 1008.0
texture = ExtResource("2_8t1o2")

[node name="NinePatchRect" type="NinePatchRect" parent="."]
offset_left = -1398.0
offset_top = -1471.0
offset_right = 1399.0
offset_bottom = 1011.0
texture = ExtResource("3_ftu2j")
draw_center = false
patch_margin_left = 640
patch_margin_top = 850
patch_margin_right = 610
patch_margin_bottom = 410

[node name="EnemySpawn" parent="." instance=ExtResource("7_8t1o2")]
position = Vector2(-250, -200)

[node name="EnemySpawn2" parent="." instance=ExtResource("7_8t1o2")]
position = Vector2(-250, 200)

[node name="EnemySpawn3" parent="." instance=ExtResource("7_8t1o2")]
position = Vector2(250, 200)

[node name="EnemySpawn4" parent="." instance=ExtResource("7_8t1o2")]
position = Vector2(250, -200)

[node name="Player" parent="." instance=ExtResource("1_7o84y")]

[node name="Rat" parent="." instance=ExtResource("3_6vmdf")]
position = Vector2(116, 498)

[node name="RatZombie" parent="." instance=ExtResource("4_lteeu")]
position = Vector2(479, 267)

[node name="Camera2D" type="Camera2D" parent="." node_paths=PackedStringArray("target")]
script = ExtResource("5_lteeu")
target = NodePath("../Player")

[node name="CanvasLayer" type="CanvasLayer" parent="Camera2D"]

[node name="ProgressBar" type="ProgressBar" parent="Camera2D/CanvasLayer"]
anchors_preset = 10
anchor_right = 1.0
offset_bottom = 27.0
grow_horizontal = 2
max_value = 1000.0
metadata/_edit_use_anchors_ = true

[node name="Walls" type="StaticBody2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Walls"]
position = Vector2(14, 604)
shape = SubResource("RectangleShape2D_lteeu")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Walls"]
position = Vector2(15, -611)
shape = SubResource("RectangleShape2D_lteeu")

[node name="CollisionShape2D3" type="CollisionShape2D" parent="Walls"]
position = Vector2(-773, 1)
shape = SubResource("RectangleShape2D_jb676")

[node name="CollisionShape2D4" type="CollisionShape2D" parent="Walls"]
position = Vector2(801, -5)
shape = SubResource("RectangleShape2D_jb676")

[connection signal="enemy_death" from="EnemySpawn" to="." method="_on_enemy_spawn_enemy_death"]
[connection signal="enemy_death" from="EnemySpawn2" to="." method="_on_enemy_spawn_2_enemy_death"]
[connection signal="enemy_death" from="EnemySpawn3" to="." method="_on_enemy_spawn_3_enemy_death"]
[connection signal="enemy_death" from="EnemySpawn4" to="." method="_on_enemy_spawn_4_enemy_death"]
